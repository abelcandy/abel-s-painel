-- ============================================
-- Minimal Roblox GUI Panel Script
-- Created by: abel
-- Compatible with: Delta, Synapse X, ScriptWare, and other executors
-- ============================================

local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

-- ============================================
-- Variables
-- ============================================
local panelVisible = false
local selectedTab = "Home"
local toggleStates = {
    ESP = false,
    SilentAim = false,
    Aimbot = false
}

-- Colors
local Colors = {
    Background = Color3.fromRGB(20, 20, 20),
    Secondary = Color3.fromRGB(30, 30, 30),
    Accent = Color3.fromRGB(100, 150, 255),
    Text = Color3.fromRGB(240, 240, 240),
    TextDim = Color3.fromRGB(150, 150, 150),
    Hover = Color3.fromRGB(40, 40, 40),
    Active = Color3.fromRGB(80, 130, 255),
    Success = Color3.fromRGB(100, 200, 100)
}

-- Tween Info
local TweenInfos = {
    Fast = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
    Standard = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
    Smooth = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
    Pulse = TweenInfo.new(0.6, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut)
}

-- ============================================
-- Create UI Structure
-- ============================================
local function createUI()
    -- Main Screen GUI
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "MinimalPanel"
    screenGui.ResetOnSpawn = false
    screenGui.DisplayOrder = 10
    screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

    -- Main Panel Container
    local mainPanel = Instance.new("Frame")
    mainPanel.Name = "MainPanel"
    mainPanel.Size = UDim2.new(0, 350, 0, 450)
    mainPanel.Position = UDim2.new(0.5, -175, 0.5, -225)
    mainPanel.BackgroundColor3 = Colors.Background
    mainPanel.BorderSizePixel = 0
    mainPanel.LayoutOrder = 1
    mainPanel.Parent = screenGui

    -- Corner Rounding
    local panelCorner = Instance.new("UICorner")
    panelCorner.CornerRadius = UDim.new(0, 12)
    panelCorner.Parent = mainPanel

    -- Panel Stroke
    local panelStroke = Instance.new("UIStroke")
    panelStroke.Color = Colors.Accent
    panelStroke.Thickness = 2
    panelStroke.Transparency = 0.5
    panelStroke.Parent = mainPanel

    -- Header
    local header = Instance.new("Frame")
    header.Name = "Header"
    header.Size = UDim2.new(1, 0, 0, 50)
    header.BackgroundColor3 = Colors.Secondary
    header.BorderSizePixel = 0
    header.Parent = mainPanel

    local headerCorner = Instance.new("UICorner")
    headerCorner.CornerRadius = UDim.new(0, 12)
    headerCorner.Parent = header

    local titleLabel = Instance.new("TextLabel")
    titleLabel.Name = "Title"
    titleLabel.Size = UDim2.new(1, -20, 1, 0)
    titleLabel.Position = UDim2.new(0, 10, 0, 0)
    titleLabel.BackgroundTransparency = 1
    titleLabel.TextColor3 = Colors.Text
    titleLabel.TextSize = 18
    titleLabel.Font = Enum.Font.GothamBold
    titleLabel.Text = "Panel by abel"
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    titleLabel.Parent = header

    -- Close Button
    local closeButton = Instance.new("TextButton")
    closeButton.Name = "CloseButton"
    closeButton.Size = UDim2.new(0, 30, 0, 30)
    closeButton.Position = UDim2.new(1, -40, 0, 10)
    closeButton.BackgroundColor3 = Colors.Hover
    closeButton.TextColor3 = Colors.Text
    closeButton.TextSize = 18
    closeButton.Font = Enum.Font.GothamBold
    closeButton.Text = "√ó"
    closeButton.BorderSizePixel = 0
    closeButton.Parent = header

    local closeCorner = Instance.new("UICorner")
    closeCorner.CornerRadius = UDim.new(0, 6)
    closeCorner.Parent = closeButton

    -- Content Frame
    local contentFrame = Instance.new("Frame")
    contentFrame.Name = "Content"
    contentFrame.Size = UDim2.new(1, 0, 1, -50)
    contentFrame.Position = UDim2.new(0, 0, 0, 50)
    contentFrame.BackgroundTransparency = 1
    contentFrame.ClipsDescendants = true
    contentFrame.Parent = mainPanel

    -- Tab Bar
    local tabBar = Instance.new("Frame")
    tabBar.Name = "TabBar"
    tabBar.Size = UDim2.new(1, 0, 0, 45)
    tabBar.BackgroundColor3 = Colors.Secondary
    tabBar.BorderSizePixel = 0
    tabBar.Parent = contentFrame

    local tabBarLayout = Instance.new("UIListLayout")
    tabBarLayout.FillDirection = Enum.FillDirection.Horizontal
    tabBarLayout.Padding = UDim.new(0, 0)
    tabBarLayout.Parent = tabBar

    -- Tab Container
    local tabContainer = Instance.new("Frame")
    tabContainer.Name = "TabContainer"
    tabContainer.Size = UDim2.new(1, 0, 1, -45)
    tabContainer.Position = UDim2.new(0, 0, 0, 45)
    tabContainer.BackgroundTransparency = 1
    tabContainer.Parent = contentFrame

    -- ============================================
    -- Tab Creation Function
    -- ============================================
    local function createTab(tabName, icon)
        -- Tab Button
        local tabButton = Instance.new("TextButton")
        tabButton.Name = tabName .. "Tab"
        tabButton.Size = UDim2.new(0, 175, 1, 0)
        tabButton.BackgroundColor3 = Colors.Secondary
        tabButton.TextColor3 = Colors.TextDim
        tabButton.TextSize = 14
        tabButton.Font = Enum.Font.GothamSemibold
        tabButton.Text = "  " .. icon .. " " .. tabName
        tabButton.BorderSizePixel = 0
        tabButton.AutoButtonColor = false
        tabButton.Parent = tabBar

        -- Tab Content
        local tabContent = Instance.new("Frame")
        tabContent.Name = tabName .. "Content"
        tabContent.Size = UDim2.new(1, 0, 1, 0)
        tabContent.BackgroundTransparency = 1
        tabContent.Visible = (tabName == "Home")
        tabContent.Parent = tabContainer

        local tabScroll = Instance.new("ScrollingFrame")
        tabScroll.Name = "Scroll"
        tabScroll.Size = UDim2.new(1, 0, 1, 0)
        tabScroll.BackgroundTransparency = 1
        tabScroll.ScrollBarThickness = 4
        tabScroll.ScrollBarImageColor3 = Colors.Accent
        tabScroll.Parent = tabContent

        local tabLayout = Instance.new("UIListLayout")
        tabLayout.Padding = UDim.new(0, 10)
        tabLayout.FillDirection = Enum.FillDirection.Vertical
        tabLayout.SortOrder = Enum.SortOrder.LayoutOrder
        tabLayout.Parent = tabScroll

        local padding = Instance.new("UIPadding")
        padding.PaddingTop = UDim.new(0, 15)
        padding.PaddingBottom = UDim.new(0, 15)
        padding.PaddingLeft = UDim.new(0, 15)
        padding.PaddingRight = UDim.new(0, 15)
        padding.Parent = tabScroll

        -- Tab Selection Handler
        tabButton.MouseButton1Click:Connect(function()
            selectedTab = tabName
            
            -- Update all tabs visibility
            for _, child in pairs(tabContainer:GetChildren()) do
                if child:IsA("Frame") and child.Name ~= "UIListLayout" and child.Name ~= "UIPadding" then
                    child.Visible = (child.Name == tabName .. "Content")
                end
            end

            -- Update tab button colors
            for _, btn in pairs(tabBar:GetChildren()) do
                if btn:IsA("TextButton") then
                    if btn.Name == tabName .. "Tab" then
                        btn.BackgroundColor3 = Colors.Active
                        btn.TextColor3 = Colors.Text
                    else
                        btn.BackgroundColor3 = Colors.Secondary
                        btn.TextColor3 = Colors.TextDim
                    end
                end
            end
        end)

        -- Hover Effects
        tabButton.MouseEnter:Connect(function()
            if selectedTab ~= tabName then
                TweenService:Create(tabButton, TweenInfos.Fast, {BackgroundColor3 = Colors.Hover}):Play()
            end
        end)

        tabButton.MouseLeave:Connect(function()
            if selectedTab ~= tabName then
                TweenService:Create(tabButton, TweenInfos.Fast, {BackgroundColor3 = Colors.Secondary}):Play()
            end
        end)

        return tabContent, tabScroll
    end

    -- Create Tabs
    local homeContent, homeScroll = createTab("Home", "üè†")
    local gameContent, gameScroll = createTab("Game", "üéÆ")

    -- Set first tab as active
    tabBar:FindFirstChild("HomeTab").BackgroundColor3 = Colors.Active
    tabBar:FindFirstChild("HomeTab").TextColor3 = Colors.Text

    -- ============================================
    -- Toggle Button Creation Function
    -- ============================================
    local function createToggle(parent, name, defaultState)
        local toggleContainer = Instance.new("Frame")
        toggleContainer.Name = name .. "Toggle"
        toggleContainer.Size = UDim2.new(1, 0, 0, 50)
        toggleContainer.BackgroundColor3 = Colors.Hover
        toggleContainer.BorderSizePixel = 0
        toggleContainer.LayoutOrder = 1
        toggleContainer.Parent = parent

        local toggleCorner = Instance.new("UICorner")
        toggleCorner.CornerRadius = UDim.new(0, 8)
        toggleCorner.Parent = toggleContainer

        local toggleStroke = Instance.new("UIStroke")
        toggleStroke.Color = Colors.Accent
        toggleStroke.Thickness = 1
        toggleStroke.Transparency = 0.7
        toggleStroke.Parent = toggleContainer

        local labelText = Instance.new("TextLabel")
        labelText.Name = "Label"
        labelText.Size = UDim2.new(1, -70, 1, 0)
        labelText.Position = UDim2.new(0, 15, 0, 0)
        labelText.BackgroundTransparency = 1
        labelText.TextColor3 = Colors.Text
        labelText.TextSize = 14
        labelText.Font = Enum.Font.Gotham
        labelText.Text = name
        labelText.TextXAlignment = Enum.TextXAlignment.Left
        labelText.Parent = toggleContainer

        -- Toggle Switch
        local switchBg = Instance.new("Frame")
        switchBg.Name = "SwitchBg"
        switchBg.Size = UDim2.new(0, 45, 0, 24)
        switchBg.Position = UDim2.new(1, -60, 0.5, -12)
        switchBg.BackgroundColor3 = defaultState and Colors.Active or Colors.Secondary
        switchBg.BorderSizePixel = 0
        switchBg.Parent = toggleContainer

        local switchCorner = Instance.new("UICorner")
        switchCorner.CornerRadius = UDim.new(0, 12)
        switchCorner.Parent = switchBg

        local switchCircle = Instance.new("Frame")
        switchCircle.Name = "Circle"
        switchCircle.Size = UDim2.new(0, 20, 0, 20)
        switchCircle.Position = UDim2.new(0, defaultState and 23 or 2, 0.5, -10)
        switchCircle.BackgroundColor3 = Colors.Text
        switchCircle.BorderSizePixel = 0
        switchCircle.Parent = switchBg

        local circleCorner = Instance.new("UICorner")
        circleCorner.CornerRadius = UDim.new(0, 10)
        circleCorner.Parent = switchCircle

        -- Feedback Label
        local feedbackLabel = Instance.new("TextLabel")
        feedbackLabel.Name = "Feedback"
        feedbackLabel.Size = UDim2.new(0, 20, 0, 20)
        feedbackLabel.Position = UDim2.new(0.5, -10, 0.5, -10)
        feedbackLabel.BackgroundTransparency = 1
        feedbackLabel.TextColor3 = Colors.Success
        feedbackLabel.TextSize = 14
        feedbackLabel.Font = Enum.Font.GothamBold
        feedbackLabel.Text = "‚úì"
        feedbackLabel.Visible = false
        feedbackLabel.Parent = switchCircle

        local toggleButton = Instance.new("TextButton")
        toggleButton.Name = "ToggleButton"
        toggleButton.Size = UDim2.new(1, 0, 1, 0)
        toggleButton.BackgroundTransparency = 1
        toggleButton.Text = ""
        toggleButton.Parent = toggleContainer

        -- Toggle Logic
        local function toggleFeature()
            toggleStates[name] = not toggleStates[name]
            
            TweenService:Create(switchBg, TweenInfos.Fast, {
                BackgroundColor3 = toggleStates[name] and Colors.Active or Colors.Secondary
            }):Play()

            TweenService:Create(switchCircle, TweenInfos.Fast, {
                Position = UDim2.new(0, toggleStates[name] and 23 or 2, 0.5, -10)
            }):Play()

            -- Show feedback
            feedbackLabel.Visible = true
            feedbackLabel.TextTransparency = 0
            TweenService:Create(feedbackLabel, TweenInfos.Pulse, {TextTransparency = 1}):Play()

            -- Apply feature logic here
            if name == "ESP" then
                onESPToggle(toggleStates[name])
            elseif name == "SilentAim" then
                onSilentAimToggle(toggleStates[name])
            elseif name == "Aimbot" then
                onAimbotToggle(toggleStates[name])
            end
        end

        toggleButton.MouseButton1Click:Connect(toggleFeature)

        -- Hover Effects
        toggleContainer.MouseEnter:Connect(function()
            TweenService:Create(toggleContainer, TweenInfos.Fast, {BackgroundColor3 = Color3.fromRGB(45, 45, 45)}):Play()
            TweenService:Create(toggleStroke, TweenInfos.Fast, {Transparency = 0.3}):Play()
        end)

        toggleContainer.MouseLeave:Connect(function()
            TweenService:Create(toggleContainer, TweenInfos.Fast, {BackgroundColor3 = Colors.Hover}):Play()
            TweenService:Create(toggleStroke, TweenInfos.Fast, {Transparency = 0.7}):Play()
        end)

        return switchBg, switchCircle
    end

    -- ============================================
    -- HOME TAB CONTENT
    -- ============================================
    local welcomeLabel = Instance.new("TextLabel")
    welcomeLabel.Name = "Welcome"
    welcomeLabel.Size = UDim2.new(1, 0, 0, 60)
    welcomeLabel.BackgroundColor3 = Colors.Hover
    welcomeLabel.TextColor3 = Colors.Text
    welcomeLabel.TextSize = 16
    welcomeLabel.Font = Enum.Font.GothamBold
    welcomeLabel.Text = "Welcome to\npainel created by abel"
    welcomeLabel.TextWrapped = true
    welcomeLabel.BorderSizePixel = 0
    welcomeLabel.LayoutOrder = 1
    welcomeLabel.Parent = homeScroll

    local welcomeCorner = Instance.new("UICorner")
    welcomeCorner.CornerRadius = UDim.new(0, 8)
    welcomeCorner.Parent = welcomeLabel

    local keybindLabel = Instance.new("TextLabel")
    keybindLabel.Name = "Keybind"
    keybindLabel.Size = UDim2.new(1, 0, 0, 70)
    keybindLabel.BackgroundColor3 = Colors.Secondary
    keybindLabel.TextColor3 = Colors.TextDim
    keybindLabel.TextSize = 13
    keybindLabel.Font = Enum.Font.Gotham
    keybindLabel.Text = "üìå Keybind Information\n\nPress 'B' (case-insensitive) to toggle this panel on and off."
    keybindLabel.TextWrapped = true
    keybindLabel.BorderSizePixel = 0
    keybindLabel.LayoutOrder = 2
    keybindLabel.Parent = homeScroll

    local keybindCorner = Instance.new("UICorner")
    keybindCorner.CornerRadius = UDim.new(0, 8)
    keybindCorner.Parent = keybindLabel

    -- ============================================
    -- GAME TAB CONTENT
    -- ============================================
    createToggle(gameScroll, "ESP", false)
    createToggle(gameScroll, "SilentAim", false)
    createToggle(gameScroll, "Aimbot", false)

    -- ============================================
    -- ANIMATION FUNCTIONS
    -- ============================================
    local function showPanel()
        panelVisible = true
        mainPanel.Visible = true
        mainPanel.Size = UDim2.new(0, 350, 0, 450)
        
        TweenService:Create(mainPanel, TweenInfos.Smooth, {
            Position = UDim2.new(0.5, -175, 0.5, -225)
        }):Play()
    end

    local function hidePanel()
        panelVisible = false
        TweenService:Create(mainPanel, TweenInfos.Smooth, {
            Position = UDim2.new(0.5, -175, -0.5, -225)
        }):Play()
        
        game:GetService("Debris"):AddItem(mainPanel, 0.5)
    end

    -- Close Button Logic
    closeButton.MouseButton1Click:Connect(hidePanel)

    -- ============================================
    -- KEYBIND HANDLING
    -- ============================================
    UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if gameProcessed then return end
        
        if input.KeyCode == Enum.KeyCode.B then
            if panelVisible then
                hidePanel()
            else
                showPanel()
            end
        end
    end)

    -- Initial panel visibility
    mainPanel.Visible = true
    showPanel()

    return screenGui
end

-- ============================================
-- FEATURE IMPLEMENTATIONS
-- ============================================

local function onESPToggle(enabled)
    if enabled then
        print("[Panel] ESP Enabled")
        -- Add your ESP implementation here
    else
        print("[Panel] ESP Disabled")
    end
end

local function onSilentAimToggle(enabled)
    if enabled then
        print("[Panel] Silent Aim Enabled")
        -- Add your Silent Aim implementation here
    else
        print("[Panel] Silent Aim Disabled")
    end
end

local function onAimbotToggle(enabled)
    if enabled then
        print("[Panel] Aimbot Enabled")
        -- Add your Aimbot implementation here
    else
        print("[Panel] Aimbot Disabled")
    end
end

-- ============================================
-- SCRIPT EXECUTION
-- ============================================
createUI()
print("[Panel] Minimal Panel loaded successfully! Press 'B' to toggle.")
